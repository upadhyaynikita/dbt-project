version: 2

sources:
    - name: External_table_source
      database: raw
      schema: jaffle_shop
      tables:
          - name: CUSTOMERS
            columns:
            - name: CUSTOMER_ID
              tests:
              - unique
              - warn_if_null_with_insert
          - name: ORDERS
            columns:
            - name: ORDER_ID
              tests:
              #- unique
              - warn_if_null_with_insert                
          
          
          
models:
  - name: stg_customers_using_external
    columns:
      - name: customer_id
        tests:
          #- unique
          - warn_if_null_with_insert

  - name: stg_orders_using_external
    columns:
      - name: order_id
        tests:
          #- unique
          - warn_if_null_with_insert        
         
                           
